"use strict";(()=>{const e=document.querySelector("nav"),t=document.querySelector("nav a.hamburger"),o=document.querySelector("nav .logo"),n=Array.from(document.querySelectorAll("nav li a")),s=e.clientHeight,r=new Map,l=new Map,c=new Map,a=new Map;function i(t){window.scrollTo({top:t.offsetTop+u(t)-s,left:0,behavior:"smooth"}),e.classList.remove("open")}function d(){for(let e of n)e.parentNode.classList.remove("active");const e=function(){let e=null;for(let t of c.keys())t.offsetTop-s-10<window.scrollY&&t.offsetTop>0&&(e=t);return e}();e?(history.replaceState(null,null,r.get(e)),c.get(e).parentNode.classList.add("active")):history.replaceState(null,null,"/")}function u(e){switch(r.get(e)){case"#o-nas":return 50;case"#cennik":return 30}return 0}function f(t){e.contains(t.target)||e.classList.remove("open")}window.addEventListener("load",()=>{for(let e of n)for(let t of Array.from(e.classList)){const o=document.querySelector(`section.${t}`);o&&(r.set(o,`#${o.id}`),l.set(`#${o.id}`,o),c.set(o,e),a.set(e,o),o.removeAttribute("id"))}for(let e of a.keys())e.addEventListener("click",t=>{i(a.get(e)),t.preventDefault()});t.addEventListener("click",t=>{e.classList.toggle("open"),t.preventDefault()}),document.addEventListener("mousedown",f),document.addEventListener("touchstart",f,!0),window.addEventListener("scroll",e=>{window.requestAnimationFrame(()=>{window.scrollY>400?o.classList.add("show"):o.classList.remove("show")}),d()}),d(),function(){const e=l.get(location.hash);e&&window.scrollY-e.offsetTop-u(e)<100&&i(e)}()})})();