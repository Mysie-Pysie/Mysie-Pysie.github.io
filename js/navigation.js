"use strict";(()=>{const e=document.querySelector("nav"),t=document.querySelector("nav a.hamburger"),o=document.querySelector("nav .logo"),n=Array.from(document.querySelectorAll("nav li a")),s=e.clientHeight,r=new Map,c=new Map,a=new Map,i=new Map;function l(t){window.scrollTo({top:t.offsetTop+function(e){switch(r.get(e)){case"#o-nas":return 50;case"#cennik":return 30}return 0}(t)-s,left:0,behavior:"smooth"}),e.classList.remove("open")}function d(){for(let e of n)e.parentNode.classList.remove("active");const e=function(){let e=null;for(let t of a.keys())t.offsetTop-s-10<window.scrollY&&t.offsetTop>0&&(e=t);return e}();e&&(history.replaceState(null,null,r.get(e)),a.get(e).parentNode.classList.add("active"))}function u(t){e.contains(t.target)||e.classList.remove("open")}window.addEventListener("load",()=>{for(let e of n)for(let t of Array.from(e.classList)){const o=document.querySelector(`section.${t}`);o&&(r.set(o,`#${o.id}`),c.set(`#${o.id}`,o),a.set(o,e),i.set(e,o),o.removeAttribute("id"))}for(let e of i.keys())e.addEventListener("click",t=>{l(i.get(e)),t.preventDefault()});t.addEventListener("click",t=>{e.classList.toggle("open"),t.preventDefault()}),document.addEventListener("mousedown",u),document.addEventListener("touchstart",u,!0),window.addEventListener("scroll",e=>{window.requestAnimationFrame(()=>{window.scrollY>400?o.classList.add("show"):o.classList.remove("show")}),d()}),d(),function(){const e=c.get(location.hash);e&&l(e)}()})})();